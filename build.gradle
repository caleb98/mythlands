tasks.register('updateFrontend') {
    doLast {
        copy {
            from './frontend/dist/'
            into './backend/src/main/resources/static/'           
        }
    }
}

tasks.register('frontendDevUpdate') {
    dependsOn 'frontend:buildDevelopment'
    doLast {
        copy {
            from './frontend/dist/'
            into './backend/src/main/resources/static/'           
        }
    }
}

tasks.register('updateBuild', Copy) {
    dependsOn 'backend:build'
    from './backend/build/libs'
    into './build'  
}

tasks.register('build', GradleBuild) {
    tasks = ['frontend:build', 'updateFrontend', 'backend:build', 'updateBuild']
}

tasks.register('buildDev', GradleBuild) {
    tasks = ['frontend:buildDevelopment', 'updateFrontend', 'backend:build', 'updateBuild']
}

tasks.register('serve', GradleBuild) {
    dependsOn 'build'
    tasks = ['backend:bootRun']
}